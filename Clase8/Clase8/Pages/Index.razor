@page "/"

<h1>Hello, world!</h1>

Welcome to your new app.

@*<SurveyPrompt Title="How is Blazor working for you?" />*@

@*@for (int i = 0; i < 4; i++)
    {
        <h1>Incrementador: @i</h1>
        <Counter IncrementBy="@i" />
    }*@

@*<FetchData />*@

<div>
    @foreach (var item in this._logins)
    {
        <LoginCard Model="@item" />
    }
</div>

@code{
    private List<Business.Models.LoginModel> _logins =
        new List<Business.Models.LoginModel>();

    protected override async Task OnInitializedAsync()
    {
        try
        {
            base.OnInitialized();

            Connections.RestConnection rest =
                new Connections.RestConnection("http://localhost:55000");

            this._logins = await rest.GetAsync<List<Business.Models.LoginModel>>("login");
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex);
        }
    }
}